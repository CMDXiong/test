<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>tool.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>tool.h</h1><div class="fragment"><pre>00001 
00002 
00003 
00004 <span class="preprocessor">#ifndef _TOOLS</span>
00005 <span class="preprocessor"></span><span class="preprocessor">#define _TOOLS</span>
00006 <span class="preprocessor"></span>
00007 <span class="preprocessor">#ifdef __GNUG__</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#pragma interface</span>
00009 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00010 <span class="preprocessor"></span>
00011 <span class="preprocessor">#include "wxwin.h"</span>
00012 <span class="preprocessor">#include "mainwin.h"</span>
00013 <span class="preprocessor">#include "windrv.h"</span>
00014 <span class="preprocessor">#include "units.h"</span>
00015 <span class="keyword">class </span><a class="code" href="classToolControl.html">ToolControl</a>;
00016 <span class="keyword">class </span><a class="code" href="classCircleditDialog.html">CircleditDialog</a>;
00017 <span class="keyword">enum</span> ToolSet{ SELECT_TOOL, DESELECT_TOOL, ZOOMIN_TOOL , RECTANGLE_TOOL, POLYGON_TOOL,POLYLINE_TOOL,
00018                                   MOVE_TOOL, ZOOMOUT_TOOL, ZOOMBACK_TOOL,       COPY_TOOL,CIRCLE2_TOOL,CIRCLE_TOOL,
00019               EDIT_TOOL, EDITPOLYGON_TOOL,EDITPOLYLINE_TOOL,DELETE_TOOL,EDITPROPERTY_TOOL,
00020               ROTATE_TOOL , EDITCIRCLE_TOOL ,EDITREC_TOOL, TEXT_TOOL, SET_CURSOR,
00021               INSERTREF_TOOL,INSERTSTRUC_TOOL,EDITIMAGE_TOOL,EDITREF_TOOL,EDITLINE_TOOL
00022                                 };
00023 
00024 
00026 
<a name="l00053"></a><a class="code" href="classBaseTool.html">00053</a> <span class="keyword">class </span><a class="code" href="classBaseTool.html">BaseTool</a>
00054 {
00055    <span class="keyword">public</span>:
00056       <span class="comment">// constructor and destructor</span>
00057       <a class="code" href="classBaseTool.html">BaseTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00058       <span class="keyword">virtual</span> ~<a class="code" href="classBaseTool.html">BaseTool</a>();
00059                 <span class="keyword">virtual</span> <span class="keywordtype">void</span>    OnMouseEvent(wxMouseEvent&amp; event);
00060                 <span class="keyword">virtual</span> <span class="keywordtype">void</span>    OnChar(wxKeyEvent&amp; event);
00061                 <span class="keyword">virtual</span> <span class="keywordtype">void</span>    OnKeyDown(wxKeyEvent&amp; event);
00062                 <span class="keyword">virtual</span> <span class="keywordtype">void</span>    OnKeyUp(wxKeyEvent&amp; event);
00063       ToolSet GetType();
00064                 <span class="keywordtype">void</span> SetStatusBar();
00065                 <span class="keyword">virtual</span> <span class="keywordtype">void</span>   Draw()=0;
00066                 <span class="keyword">virtual</span> <span class="keywordtype">void</span>   Undo();
00067       <span class="keywordtype">void</span>                              SetCursor(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y);
00068       wxCursor                  GetCursor(){<span class="keywordflow">return</span> _toolcursor;};
00069                 <span class="keyword">virtual</span> <span class="keywordtype">void</span>   AddPoint(<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y);
00070                 <span class="keyword">virtual</span> <span class="keywordtype">void</span>    RemovePoint(){};
00071       <span class="keywordtype">bool</span>      GetOnlyOnce(){<span class="keywordflow">return</span> _onlyonce;};
00072       <span class="keywordtype">void</span>              SetOnlyOnce(<span class="keywordtype">bool</span> onlyonce){_onlyonce = onlyonce;};
00073       <span class="keywordtype">bool</span>         Get_Busy(){<span class="keywordflow">return</span> _busy;};
00074       <span class="keyword">virtual</span> <span class="keywordtype">void</span>      Begin();
00075       <span class="keyword">virtual</span> <span class="keywordtype">void</span>      End();
00076       <span class="keyword">virtual</span> wxString  GetToolInfo()=0;
00077                 ToolBarSet              GetToolBarType(){<span class="keywordflow">return</span> m_toolbar;};
00078       <span class="comment">//is the tool that wants to be started allowed within this tools context</span>
00079                 <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00080 
00081    <span class="keyword">protected</span>:
00082                 <span class="keywordtype">void</span>                     DrawHandle(wxDC&amp; dc,<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y,<span class="keywordtype">int</span> type=0);
00083                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> EvRD();
00084                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> EvLeftDClick();
00085                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> EvDrag();
00086                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> EvMove(<span class="keywordtype">int</span> drag);
00087                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> EvLD();
00088                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> EvLU();
00089       <span class="keywordtype">void</span> Grid();
00090 
00091                 <span class="keywordtype">void</span> CalculateCurrent();
00092                 <span class="keywordtype">void</span> CalcVirtual(<span class="keywordtype">long</span> x,<span class="keywordtype">long</span> y,<span class="keywordtype">double</span>&amp; xr,<span class="keywordtype">double</span>&amp; yr);
00093 
00094 
00095                 <a class="code" href="classToolControl.html">ToolControl</a>*            _controller;
00096 
00097       wxMouseEvent              _event;
00098 
00099                 <span class="keywordtype">long</span>                                    _grid_x;
00100                 <span class="keywordtype">long</span>                                    _grid_y;
00101                 <span class="keywordtype">long</span>                                    _currentX;
00102                 <span class="keywordtype">long</span>                                    _currentY;
00103       <span class="keywordtype">double</span>            _realcurrentX;
00104       <span class="keywordtype">double</span>            _realcurrentY;
00105       ToolSet           _tooltype;
00106       <span class="keywordtype">long</span>                                      _timeevent;
00107       <span class="keywordtype">bool</span>              _onlyonce;
00108       <span class="keywordtype">bool</span>              _busy;
00109       wxCursor          _toolcursor;
00110                 ToolBarSet                      m_toolbar;
00111       wxCoord                           m_maxx;
00112       wxCoord                           m_minx;
00113       wxCoord                           m_maxy;
00114       wxCoord                           m_miny;
00115       <span class="keywordtype">bool</span>                                      m_valid_bbox;
00116 
00117       <span class="keyword">virtual</span> <span class="keywordtype">void</span> CalcBoundingBox(wxCoord x, wxCoord y)
00118       {
00119              <span class="keywordflow">if</span> (m_valid_bbox)
00120         {
00121            <span class="keywordflow">if</span> ( x &lt; m_minx ) m_minx = x;
00122            <span class="keywordflow">if</span> ( y &lt; m_miny ) m_miny = y;
00123            <span class="keywordflow">if</span> ( x &gt; m_maxx ) m_maxx = x;
00124            <span class="keywordflow">if</span> ( y &gt; m_maxy ) m_maxy = y;
00125         }
00126         <span class="keywordflow">else</span>
00127         {
00128            m_valid_bbox=<span class="keyword">true</span>;
00129            m_minx = x;
00130            m_miny = y;
00131            m_maxx = x;
00132            m_maxy = y;
00133         }
00134       }
00135 
00136 
00137 };
00138 
<a name="l00141"></a><a class="code" href="classBoxTool.html">00141</a> <span class="keyword">class </span><a class="code" href="classBoxTool.html">BoxTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00142 
00143 {
00144    <span class="keyword">public</span>:
00145       <span class="comment">// constructor and destructor</span>
00146       <a class="code" href="classBoxTool.html">BoxTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00147       ~<a class="code" href="classBoxTool.html">BoxTool</a>();
00148                 <span class="keywordtype">void</span>  OnMouseEvent(wxMouseEvent&amp; event);
00149 
00150    <span class="keyword">protected</span>:
00151                 <span class="keywordtype">void</span> EvDrag();
00152       <span class="keywordtype">void</span> EvMove(<span class="keywordtype">int</span> drag);
00153       <span class="keywordtype">void</span> EvLD();
00154       <span class="keywordtype">void</span> EvLU();
00155 
00156                 <span class="keywordtype">bool</span>                            _boxdrawn;
00157                 <span class="keyword">struct </span>ZoomRect {
00158                         <span class="keywordtype">double</span>  left;
00159                         <span class="keywordtype">double</span>  top;
00160                         <span class="keywordtype">double</span>  right;
00161                         <span class="keywordtype">double</span>  bottom;
00162                 };
00163                 ZoomRect                                _ZoomRect;
00164            <span class="keywordtype">bool</span>  box;
00165                 <span class="keywordtype">double</span>                          _firstX;
00166                 <span class="keywordtype">double</span>                          _firstY;
00167 
00168 };
00169 
<a name="l00172"></a><a class="code" href="classSelectTool.html">00172</a> <span class="keyword">class </span><a class="code" href="classSelectTool.html">SelectTool</a> : <span class="keyword">public</span> <a class="code" href="classBoxTool.html">BoxTool</a>
00173 {
00174    <span class="keyword">public</span>:
00175       <span class="comment">// constructor and destructor</span>
00176       <a class="code" href="classSelectTool.html">SelectTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00177       ~<a class="code" href="classSelectTool.html">SelectTool</a>();
00178                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00179                 <span class="keywordtype">void</span> Draw();
00180       wxString  GetToolInfo();
00181 
00182    <span class="keyword">protected</span>:
00183       <span class="keywordtype">void</span> EvLU();
00184       <span class="keywordtype">void</span> EvLD();
00185 };
00186 
<a name="l00189"></a><a class="code" href="classDeSelectTool.html">00189</a> <span class="keyword">class </span><a class="code" href="classDeSelectTool.html">DeSelectTool</a> : <span class="keyword">public</span> <a class="code" href="classBoxTool.html">BoxTool</a>
00190 {
00191    <span class="keyword">public</span>:
00192       <span class="comment">// constructor and destructor</span>
00193       <a class="code" href="classDeSelectTool.html">DeSelectTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00194       ~<a class="code" href="classDeSelectTool.html">DeSelectTool</a>();
00195                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00196       <span class="keywordtype">void</span> BeginTool();
00197       <span class="keywordtype">void</span> EndTool();
00198                 <span class="keywordtype">void</span> Draw();
00199       wxString  GetToolInfo();
00200 
00201    <span class="keyword">protected</span>:
00202       <span class="keywordtype">void</span> EvLU();
00203 
00204 };
00205 
<a name="l00208"></a><a class="code" href="classZoomTool.html">00208</a> <span class="keyword">class </span><a class="code" href="classZoomTool.html">ZoomTool</a> : <span class="keyword">public</span> <a class="code" href="classBoxTool.html">BoxTool</a>
00209 {
00210    <span class="keyword">public</span>:
00211       <span class="comment">// constructor and destructor</span>
00212       <a class="code" href="classZoomTool.html">ZoomTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00213       ~<a class="code" href="classZoomTool.html">ZoomTool</a>();
00214                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00215                 <span class="keywordtype">void</span> Draw();
00216       wxString  GetToolInfo();
00217 
00218    <span class="keyword">protected</span>:
00219            <span class="keywordtype">bool</span> _zooming;
00220       <span class="keywordtype">void</span> EvLU();
00221                 <span class="keywordtype">void</span> EvLD();
00222 };
00223 
<a name="l00226"></a><a class="code" href="classRecTangleTool.html">00226</a> <span class="keyword">class </span><a class="code" href="classRecTangleTool.html">RecTangleTool</a> : <span class="keyword">public</span> <a class="code" href="classBoxTool.html">BoxTool</a>
00227 {
00228    <span class="keyword">public</span>:
00229       <span class="comment">// constructor and destructor</span>
00230       <a class="code" href="classRecTangleTool.html">RecTangleTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00231       ~<a class="code" href="classRecTangleTool.html">RecTangleTool</a>();
00232                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00233       <span class="keywordtype">void</span> BeginTool();
00234       <span class="keywordtype">void</span> EndTool();
00235                 <span class="keywordtype">void</span> Draw();
00236                 <span class="keywordtype">void</span>  AddPoint(<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y);
00237       wxString  GetToolInfo();
00238 
00239    <span class="keyword">protected</span>:
00240       <span class="keywordtype">void</span> EvLU();
00241                 <span class="keywordtype">void</span> EvLD();
00242 };
00243 
<a name="l00246"></a><a class="code" href="classPolyTool.html">00246</a> <span class="keyword">class </span><a class="code" href="classPolyTool.html">PolyTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00247 {
00248    <span class="keyword">public</span>:
00249       <span class="comment">// constructor and destructor</span>
00250       <a class="code" href="classPolyTool.html">PolyTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00251       ~<a class="code" href="classPolyTool.html">PolyTool</a>();
00252                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00253                 <span class="keywordtype">void</span>  AddPoint(<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y);
00254                 <span class="keywordtype">void</span>    RemovePoint();
00255                 <span class="keywordtype">void</span> Draw();
00256       <span class="keywordtype">void</span> End();
00257       wxString  GetToolInfo();
00258 
00259    <span class="keyword">protected</span>:
00260                 <span class="keywordtype">void</span> EvLeftDClick();
00261                 <span class="keywordtype">void</span> EvDrag();
00262       <span class="keywordtype">void</span> EvLD();
00263       <span class="keywordtype">void</span> EvLU();
00264       <span class="keywordtype">void</span> EvMove(<span class="keywordtype">int</span> drag);
00265 
00266                 <span class="keywordtype">bool</span>                            _firstpoint;
00267 
00268                 <a class="code" href="classG__Polygon.html">G_Polygon</a>*                      _polygon;
00269       <a class="code" href="classLine__Seg.html">Line_Seg</a>*         _segm;
00270       <a class="code" href="classLine__Seg.html">Line_Seg</a>          _lastsegm;
00271 
00272                 <a class="code" href="classBoundary.html">Boundary</a>*                       _boundary;
00273 };
00274 
<a name="l00278"></a><a class="code" href="classTextTool.html">00278</a> <span class="keyword">class </span><a class="code" href="classTextTool.html">TextTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00279 {
00280    <span class="keyword">public</span>:
00281       <span class="comment">// constructor and destructor</span>
00282       <a class="code" href="classTextTool.html">TextTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00283       ~<a class="code" href="classTextTool.html">TextTool</a>();
00284                 <span class="keywordtype">void</span> Draw();
00285       <span class="keywordtype">void</span> End();
00286       wxString  GetToolInfo();
00287 
00288    <span class="keyword">protected</span>:
00289                 <span class="keywordtype">void</span>     EvDrag();
00290       <span class="keywordtype">void</span>   EvLD();
00291       <span class="keywordtype">void</span>   EvLU();
00292       <span class="keywordtype">void</span>   EvMove(<span class="keywordtype">int</span> drag);
00293                 <a class="code" href="classText.html">Text</a>*  _text;
00294       <span class="keywordtype">double</span> _height;
00295       <span class="keywordtype">char</span>       _unit[20];
00296 
00297 };
00298 
<a name="l00301"></a><a class="code" href="classPolyLineTool.html">00301</a> <span class="keyword">class </span><a class="code" href="classPolyLineTool.html">PolyLineTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00302 {
00303    <span class="keyword">public</span>:
00304       <span class="comment">// constructor and destructor</span>
00305       <a class="code" href="classPolyLineTool.html">PolyLineTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00306       ~<a class="code" href="classPolyLineTool.html">PolyLineTool</a>();
00307                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00308                 <span class="keywordtype">void</span>  AddPoint(<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y);
00309                 <span class="keywordtype">void</span>    RemovePoint();
00310                 <span class="keywordtype">void</span> Draw();
00311       <span class="keywordtype">void</span> End();
00312       wxString  GetToolInfo();
00313 
00314    <span class="keyword">protected</span>:
00315                 <span class="keywordtype">void</span> EvLeftDClick();
00316                 <span class="keywordtype">void</span> EvDrag();
00317       <span class="keywordtype">void</span> EvLD();
00318       <span class="keywordtype">void</span> EvLU();
00319       <span class="keywordtype">void</span> EvMove(<span class="keywordtype">int</span> drag);
00320 
00321       <a class="code" href="classG__Polyline.html">G_Polyline</a>*               _polyline;
00322       <span class="keywordtype">bool</span>                              _firstpoint;
00323       <a class="code" href="classLine__Seg.html">Line_Seg</a>*         _segm;
00324       <a class="code" href="classLine__Seg.html">Line_Seg</a>          _lastsegm;
00325                 <a class="code" href="classPath.html">Path</a>*                                   _path;
00326 };
00327 
<a name="l00330"></a><a class="code" href="classMoveTool.html">00330</a> <span class="keyword">class </span><a class="code" href="classMoveTool.html">MoveTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00331 {
00332    <span class="keyword">public</span>:
00333       <span class="comment">// constructor and destructor</span>
00334       <a class="code" href="classMoveTool.html">MoveTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00335       ~<a class="code" href="classMoveTool.html">MoveTool</a>();
00336                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00337                 <span class="keywordtype">void</span> Draw();
00338                 <span class="keywordtype">void</span> Undo();
00339       wxString  GetToolInfo();
00340 
00341    <span class="keyword">protected</span>:
00342                 <span class="keywordtype">void</span> EvLeftDClick();
00343                 <span class="keywordtype">void</span> EvDrag();
00344       <span class="keywordtype">void</span> EvMove(<span class="keywordtype">int</span> drag);
00345       <span class="keywordtype">void</span> EvLD();
00346       <span class="keywordtype">void</span> EvLU();
00347 
00348       <a class="code" href="classwxTransformMatrix.html">wxTransformMatrix</a>*        _trans_matrix;
00349       <span class="keywordtype">long</span>                                      _eventstamp;
00350 
00351                 ElementList* _elemlst;
00352                 ElementList* _elemlst_orig;
00353 
00354                 <span class="keywordtype">double</span>                          _oldX;
00355                 <span class="keywordtype">double</span>                          _oldY;
00356                 <span class="keywordtype">double</span>                          _newX;
00357                 <span class="keywordtype">double</span>                          _newY;
00358 };
00359 
<a name="l00362"></a><a class="code" href="classRotateTool.html">00362</a> <span class="keyword">class </span><a class="code" href="classRotateTool.html">RotateTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00363 {
00364    <span class="keyword">public</span>:
00365       <span class="comment">// constructor and destructor</span>
00366       <a class="code" href="classRotateTool.html">RotateTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00367       ~<a class="code" href="classRotateTool.html">RotateTool</a>();
00368                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00369                 <span class="keywordtype">void</span> Draw();
00370                 <span class="keywordtype">void</span> Undo();
00371       wxString  GetToolInfo();
00372 
00373    <span class="keyword">protected</span>:
00374                 <span class="keywordtype">void</span> EvLeftDClick();
00375                 <span class="keywordtype">void</span> EvDrag();
00376       <span class="keywordtype">void</span> EvMove(<span class="keywordtype">int</span> drag);
00377       <span class="keywordtype">void</span> EvLD();
00378       <span class="keywordtype">void</span> EvLU();
00379 
00380       <a class="code" href="classwxTransformMatrix.html">wxTransformMatrix</a>*        _trans_matrix;
00381                 ElementList* _elemlst;
00382                 ElementList* _elemlst_orig;
00383 
00384       <span class="keywordtype">long</span>                                      _eventstamp;
00385 
00386                 <span class="keywordtype">double</span>                                  _rotX;
00387                 <span class="keywordtype">double</span>                          _rotY;
00388                 <span class="keywordtype">double</span>                          _newX;
00389                 <span class="keywordtype">double</span>                          _newY;
00390 };
00391 
<a name="l00394"></a><a class="code" href="classCopyTool.html">00394</a> <span class="keyword">class </span><a class="code" href="classCopyTool.html">CopyTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00395 {
00396    <span class="keyword">public</span>:
00397       <span class="comment">// constructor and destructor</span>
00398       <a class="code" href="classCopyTool.html">CopyTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00399       ~<a class="code" href="classCopyTool.html">CopyTool</a>();
00400                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00401                 <span class="keywordtype">void</span> Draw();
00402                 <span class="keywordtype">void</span> Undo();
00403       wxString  GetToolInfo();
00404 
00405    <span class="keyword">protected</span>:
00406                 <span class="keywordtype">void</span> EvLeftDClick();
00407                 <span class="keywordtype">void</span> EvDrag();
00408       <span class="keywordtype">void</span> EvMove(<span class="keywordtype">int</span> drag);
00409       <span class="keywordtype">void</span> EvLD();
00410       <span class="keywordtype">void</span> EvLU();
00411 
00412       <a class="code" href="classwxTransformMatrix.html">wxTransformMatrix</a>*        _trans_matrix;
00413                 ElementList* _elemlst;
00414 
00415                 <span class="keywordtype">double</span>                          _oldX;
00416                 <span class="keywordtype">double</span>                          _oldY;
00417                 <span class="keywordtype">double</span>                          _newX;
00418                 <span class="keywordtype">double</span>                          _newY;
00419       <span class="keywordtype">long</span>                                      _eventstamp;
00420 };
00421 
<a name="l00424"></a><a class="code" href="classCircleTool.html">00424</a> <span class="keyword">class </span><a class="code" href="classCircleTool.html">CircleTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00425 {
00426    <span class="keyword">public</span>:
00427       <span class="comment">// constructor and destructor</span>
00428       <a class="code" href="classCircleTool.html">CircleTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller,<span class="keywordtype">bool</span> mode);
00429       ~<a class="code" href="classCircleTool.html">CircleTool</a>();
00430                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00431                 <span class="keywordtype">void</span> Draw();
00432       wxString  GetToolInfo();
00433 
00434    <span class="keyword">protected</span>:
00435                 <span class="keywordtype">void</span> EvDrag();
00436       <span class="keywordtype">void</span> EvLD();
00437       <span class="keywordtype">void</span> EvLU();
00438       <span class="keywordtype">void</span> EvMove(<span class="keywordtype">int</span> drag);
00439                 <span class="keywordtype">double</span>                                  _firstX;
00440                 <span class="keywordtype">double</span>                          _firstY;
00441       <span class="keywordtype">bool</span>                              _started;
00442       <span class="keywordtype">bool</span>                              _mode;
00443 
00444                 <a class="code" href="classCircle.html">Circle</a>*                                 _circle;
00445 };
00446 
00447 
<a name="l00450"></a><a class="code" href="classEditCircleTool.html">00450</a> <span class="keyword">class </span><a class="code" href="classEditCircleTool.html">EditCircleTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00451 {
00452    <span class="keyword">public</span>:
00453       <span class="comment">// constructor and destructor</span>
00454       <a class="code" href="classEditCircleTool.html">EditCircleTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00455       ~<a class="code" href="classEditCircleTool.html">EditCircleTool</a>();
00456                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00457                 <span class="keywordtype">void</span> Draw();
00458       wxString  GetToolInfo();
00459       <a class="code" href="classwxUnit.html">wxUnit</a> GetRadius();
00460       <span class="keywordtype">void</span> SetRadius(<a class="code" href="classwxUnit.html">wxUnit</a>&amp; rad);
00461 
00462    <span class="keyword">protected</span>:
00463                 <span class="keywordtype">void</span> EvLeftDClick();
00464                 <span class="keywordtype">void</span> EvDrag();
00465       <span class="keywordtype">void</span> EvLD();
00466       <span class="keywordtype">void</span> EvLU();
00467 
00468                 <span class="keywordtype">bool</span>                            _moving;
00469 
00470       <a class="code" href="classCircleditDialog.html">CircleditDialog</a>*   m_circle_dlg;
00471 
00472                 <a class="code" href="classCircle.html">Circle</a>*                                 _circle;
00473                 <a class="code" href="classCircle.html">Circle</a>*                                 _circle_orig;
00474 };
00475 
<a name="l00478"></a><a class="code" href="classEditRectangleTool.html">00478</a> <span class="keyword">class </span><a class="code" href="classEditRectangleTool.html">EditRectangleTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00479 {
00480    <span class="keyword">public</span>:
00481       <span class="comment">// constructor and destructor</span>
00482       <a class="code" href="classEditRectangleTool.html">EditRectangleTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00483       ~<a class="code" href="classEditRectangleTool.html">EditRectangleTool</a>();
00484                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00485                 <span class="keywordtype">void</span> Draw();
00486       wxString  GetToolInfo();
00487 
00488    <span class="keyword">protected</span>:
00489                 <span class="keywordtype">void</span> EvLeftDClick();
00490                 <span class="keywordtype">void</span> EvDrag();
00491       <span class="keywordtype">void</span> EvLD();
00492       <span class="keywordtype">void</span> EvLU();
00493 
00494                 <span class="keywordtype">bool</span>                            _moving;
00495                 <span class="keywordtype">int</span>                                     _movedpoint;
00496                 <a class="code" href="classwxTransformMatrix.html">wxTransformMatrix</a>*      _inverse_mapping;
00497                 <span class="keywordtype">double</span>                          _prevX;
00498                 <span class="keywordtype">double</span>                          _prevY;
00499 
00500                 <a class="code" href="classBox.html">Box</a>*                                    _box;
00501                 <a class="code" href="classBox.html">Box</a>*                                    _box_orig;
00502 };
00503 
<a name="l00506"></a><a class="code" href="classEditImageTool.html">00506</a> <span class="keyword">class </span><a class="code" href="classEditImageTool.html">EditImageTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00507 {
00508    <span class="keyword">public</span>:
00509       <span class="comment">// constructor and destructor</span>
00510       <a class="code" href="classEditImageTool.html">EditImageTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00511       ~<a class="code" href="classEditImageTool.html">EditImageTool</a>();
00512                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00513                 <span class="keywordtype">void</span> Draw();
00514       wxString  GetToolInfo();
00515 
00516    <span class="keyword">protected</span>:
00517                 <span class="keywordtype">void</span> EvLeftDClick();
00518                 <span class="keywordtype">void</span> EvDrag();
00519       <span class="keywordtype">void</span> EvLD();
00520       <span class="keywordtype">void</span> EvLU();
00521 
00522                 <span class="keywordtype">bool</span>                                _moving;
00523                 <span class="keywordtype">int</span>                                      _movedpoint;
00524                 <a class="code" href="classwxTransformMatrix.html">wxTransformMatrix</a>* _inverse_mapping;
00525                 <span class="keywordtype">double</span>                           _prevX;
00526                 <span class="keywordtype">double</span>                           _prevY;
00527 
00528                 <a class="code" href="classImage.html">Image</a>*                           _image;
00529                 <a class="code" href="classImage.html">Image</a>*                           _image_orig;
00530 };
00531 
<a name="l00534"></a><a class="code" href="classEditReferenceTool.html">00534</a> <span class="keyword">class </span><a class="code" href="classEditReferenceTool.html">EditReferenceTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00535 {
00536    <span class="keyword">public</span>:
00537       <span class="comment">// constructor and destructor</span>
00538       <a class="code" href="classEditReferenceTool.html">EditReferenceTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00539       ~<a class="code" href="classEditReferenceTool.html">EditReferenceTool</a>();
00540                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00541                 <span class="keywordtype">void</span> Draw();
00542       wxString  GetToolInfo();
00543 
00544    <span class="keyword">protected</span>:
00545                 <span class="keywordtype">void</span> EvLeftDClick();
00546                 <span class="keywordtype">void</span> EvDrag();
00547       <span class="keywordtype">void</span> EvLD();
00548       <span class="keywordtype">void</span> EvLU();
00549 
00550                 <span class="keywordtype">bool</span>                                _moving;
00551                 <span class="keywordtype">int</span>                                      _movedpoint;
00552                 <a class="code" href="classwxTransformMatrix.html">wxTransformMatrix</a>* _inverse_mapping;
00553                 <span class="keywordtype">double</span>                           _prevX;
00554                 <span class="keywordtype">double</span>                           _prevY;
00555 
00556                 <a class="code" href="classStructureReference.html">StructureReference</a>*                              _sref;
00557                 <a class="code" href="classStructureReference.html">StructureReference</a>*                              _sref_orig;
00558 };
00559 
<a name="l00562"></a><a class="code" href="classEditPolyTool.html">00562</a> <span class="keyword">class </span><a class="code" href="classEditPolyTool.html">EditPolyTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00563 {
00564    <span class="keyword">public</span>:
00565       <span class="comment">// constructor and destructor</span>
00566       <a class="code" href="classEditPolyTool.html">EditPolyTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00567       ~<a class="code" href="classEditPolyTool.html">EditPolyTool</a>();
00568                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00569                 <span class="keywordtype">void</span>  XorDrawMoveLines();
00570                 <span class="keywordtype">void</span>  XorRemoveMoveLines();
00571                 <span class="keywordtype">void</span>  AddPoint(<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y);
00572                 <span class="keywordtype">void</span>    RemovePoint();
00573                 <span class="keywordtype">void</span> Draw();
00574       wxString  GetToolInfo();
00575 
00576    <span class="keyword">protected</span>:
00577                 <span class="keywordtype">void</span> EvLeftDClick();
00578                 <span class="keywordtype">void</span> EvDrag();
00579       <span class="keywordtype">void</span> EvLD();
00580       <span class="keywordtype">void</span> EvLU();
00581 
00582                 <span class="keywordtype">bool</span>                            _moving;
00583 
00584                 <a class="code" href="classBoundary.html">Boundary</a>*                       _boundary;
00585                 <a class="code" href="classBoundary.html">Boundary</a>*                       _boundary_orig;
00586 
00587                 <span class="keywordtype">double</span>                          _prevX;
00588                 <span class="keywordtype">double</span>                          _prevY;
00589                 <span class="keywordtype">double</span>                                  _XN;
00590                 <span class="keywordtype">double</span>                          _YN;
00591                 <span class="keywordtype">double</span>                          _XP;
00592                 <span class="keywordtype">double</span>                          _YP;
00593            TDLI&lt;Segment&gt;*    _AI;
00594            <a class="code" href="classSegment.html">Segment</a>*             _PM;
00595 };
00596 
<a name="l00599"></a><a class="code" href="classEditPolyLineTool.html">00599</a> <span class="keyword">class </span><a class="code" href="classEditPolyLineTool.html">EditPolyLineTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00600 {
00601    <span class="keyword">public</span>:
00602       <span class="comment">// constructor and destructor</span>
00603       <a class="code" href="classEditPolyLineTool.html">EditPolyLineTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00604       ~<a class="code" href="classEditPolyLineTool.html">EditPolyLineTool</a>();
00605                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00606                 <span class="keywordtype">void</span>  XorDrawMoveLines();
00607                 <span class="keywordtype">void</span>  XorRemoveMoveLines();
00608                 <span class="keywordtype">void</span>  AddPoint(<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y);
00609                 <span class="keywordtype">void</span>    RemovePoint();
00610                 <span class="keywordtype">void</span> Draw();
00611       wxString  GetToolInfo();
00612 
00613    <span class="keyword">protected</span>:
00614                 <span class="keywordtype">void</span> EvLeftDClick();
00615                 <span class="keywordtype">void</span> EvDrag();
00616       <span class="keywordtype">void</span> EvLD();
00617       <span class="keywordtype">void</span> EvLU();
00618 
00619                 <span class="keywordtype">bool</span>                            _moving;
00620 
00621                 <a class="code" href="classPath.html">Path</a>*                                   _path;
00622                 <a class="code" href="classPath.html">Path</a>*                                   _path_orig;
00623 
00624                 <span class="keywordtype">double</span>                          _prevX;
00625                 <span class="keywordtype">double</span>                          _prevY;
00626                 <span class="keywordtype">double</span>                                  _XN;
00627                 <span class="keywordtype">double</span>                          _YN;
00628                 <span class="keywordtype">double</span>                          _XP;
00629                 <span class="keywordtype">double</span>                          _YP;
00630            TDLI&lt;Segment&gt;*    _AI;
00631            <a class="code" href="classSegment.html">Segment</a>*             _PM;
00632 };
00633 
<a name="l00636"></a><a class="code" href="classEditLineTool.html">00636</a> <span class="keyword">class </span><a class="code" href="classEditLineTool.html">EditLineTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00637 {
00638    <span class="keyword">public</span>:
00639       <span class="comment">// constructor and destructor</span>
00640       <a class="code" href="classEditLineTool.html">EditLineTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00641       ~<a class="code" href="classEditLineTool.html">EditLineTool</a>();
00642                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00643                 <span class="keywordtype">void</span> Draw();
00644       wxString  GetToolInfo();
00645 
00646    <span class="keyword">protected</span>:
00647                 <span class="keywordtype">void</span> EvLeftDClick();
00648                 <span class="keywordtype">void</span> EvDrag();
00649       <span class="keywordtype">void</span> EvLD();
00650       <span class="keywordtype">void</span> EvLU();
00651 
00652                 <span class="keywordtype">bool</span>                               _moving;
00653       <span class="keywordtype">bool</span>              m_one;
00654 
00655                 <a class="code" href="classSLine.html">SLine</a>*                                  _line;
00656                 <a class="code" href="classSLine.html">SLine</a>*                                  _line_orig;
00657 };
00658 
<a name="l00661"></a><a class="code" href="classEditPropertyTool.html">00661</a> <span class="keyword">class </span><a class="code" href="classEditPropertyTool.html">EditPropertyTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00662 {
00663    <span class="keyword">public</span>:
00664       <span class="comment">// constructor and destructor</span>
00665       <a class="code" href="classEditPropertyTool.html">EditPropertyTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00666       ~<a class="code" href="classEditPropertyTool.html">EditPropertyTool</a>();
00667                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00668                 <span class="keywordtype">void</span> Draw();
00669       wxString  GetToolInfo();
00670 
00671    <span class="keyword">protected</span>:
00672       <span class="keywordtype">void</span> EvLD();
00673 };
00674 
<a name="l00677"></a><a class="code" href="classDeleteTool.html">00677</a> <span class="keyword">class </span><a class="code" href="classDeleteTool.html">DeleteTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00678 {
00679    <span class="keyword">public</span>:
00680       <span class="comment">// constructor and destructor</span>
00681       <a class="code" href="classDeleteTool.html">DeleteTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00682       ~<a class="code" href="classDeleteTool.html">DeleteTool</a>();
00683                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00684                 <span class="keywordtype">void</span> Draw();
00685       wxString  GetToolInfo();
00686 
00687    <span class="keyword">protected</span>:
00688       <span class="keywordtype">void</span> EvLD();
00689 
00690                 ElementList* _elemlst;
00691 };
00692 
<a name="l00696"></a><a class="code" href="classEditTool.html">00696</a> <span class="keyword">class </span><a class="code" href="classEditTool.html">EditTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00697 {
00698    <span class="keyword">public</span>:
00699       <span class="comment">// constructor and destructor</span>
00700       <a class="code" href="classEditTool.html">EditTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00701       ~<a class="code" href="classEditTool.html">EditTool</a>();
00702                 <span class="keywordtype">bool</span> IsAllowedTool(ToolSet tool_to_start_next,<span class="keywordtype">bool</span> onlyonce,<span class="keywordtype">int</span> tools_on_stack);
00703                 <span class="keywordtype">void</span> Draw();
00704       wxString  GetToolInfo();
00705 
00706    <span class="keyword">protected</span>:
00707       <span class="keywordtype">void</span> EvLD();
00708       <span class="keywordtype">char</span>       _unit[20];
00709       <a class="code" href="classG__Polyline.html">G_Polyline</a>*               _polyline;
00710       <span class="keywordtype">bool</span>                              _firstpoint;
00711       <a class="code" href="classLine__Seg.html">Line_Seg</a>*         _segm;
00712                 <a class="code" href="classPath.html">Path</a>*                                   _path;
00713       <a class="code" href="classCircle.html">Circle</a>*                           _circle;
00714       <span class="keywordtype">bool</span>                              _started;
00715 };
00716 
<a name="l00719"></a><a class="code" href="classInsertReferenceTool.html">00719</a> <span class="keyword">class </span><a class="code" href="classInsertReferenceTool.html">InsertReferenceTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00720 {
00721    <span class="keyword">public</span>:
00722       <span class="comment">// constructor and destructor</span>
00723       <a class="code" href="classInsertReferenceTool.html">InsertReferenceTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00724       ~<a class="code" href="classInsertReferenceTool.html">InsertReferenceTool</a>();
00725                 <span class="keywordtype">void</span> Draw();
00726       <span class="keywordtype">void</span> End();
00727       wxString  GetToolInfo();
00728 
00729    <span class="keyword">protected</span>:
00730                 <span class="keywordtype">void</span>     EvDrag();
00731       <span class="keywordtype">void</span>   EvLD();
00732       <span class="keywordtype">void</span>   EvLU();
00733       <span class="keywordtype">void</span>   EvMove(<span class="keywordtype">int</span> drag);
00734 };
00735 
<a name="l00738"></a><a class="code" href="classInsertStructureTool.html">00738</a> <span class="keyword">class </span><a class="code" href="classInsertStructureTool.html">InsertStructureTool</a> : <span class="keyword">public</span> <a class="code" href="classBaseTool.html">BaseTool</a>
00739 {
00740    <span class="keyword">public</span>:
00741       <span class="comment">// constructor</span>
00742       <a class="code" href="classInsertStructureTool.html">InsertStructureTool</a>(<a class="code" href="classToolControl.html">ToolControl</a>* controller);
00743       <span class="comment">// destructor</span>
00744       ~<a class="code" href="classInsertStructureTool.html">InsertStructureTool</a>();
00745                 <span class="keywordtype">void</span> Draw();
00746       <span class="keywordtype">void</span> End();
00747       wxString  GetToolInfo();
00748 
00749    <span class="keyword">protected</span>:
00750                 <span class="keywordtype">void</span>     EvDrag();
00751       <span class="keywordtype">void</span>   EvLD();
00752       <span class="keywordtype">void</span>   EvLU();
00753       <span class="keywordtype">void</span>   EvMove(<span class="keywordtype">int</span> drag);
00754 };
00755 <span class="preprocessor">#endif</span>
00756 <span class="preprocessor"></span>
</pre></div>tool.h Source File  -- Thu Nov 28 21:24:56 2002 -- 28 Nov 2002 -- 1.2.18 --  -- . --
<a class="qindex" href="index.html">Main Page</a>
</BODY>
</HTML>
